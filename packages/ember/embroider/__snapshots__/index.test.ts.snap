// Vitest Snapshot v1

exports[`embroider > applying to an ember app > works via CLI 1`] = `
" ember-cli-build.js | 19 ++++++++++++++++++-
 package.json       |  5 ++++-
 2 files changed, 22 insertions(+), 2 deletions(-)"
`;

exports[`embroider > applying to an ember app > works via CLI 2`] = `
"diff --git a/ember-cli-build.js b/ember-cli-build.js
index 48e94e9..afcbef6 100644
--- a/ember-cli-build.js
+++ b/ember-cli-build.js
@@ -20,5 +20,22 @@ module.exports = function (defaults) {
   // please specify an object with the list of modules as keys
   // along with the exports of each module as its value.
 
-  return app.toTree();
+  const {
+    Webpack
+  } = require(\\"@embroider/webpack\\");
+
+  return require(\\"@embroider/compat\\").compatBuild(app, Webpack, {
+    // 
+    // staticAddonTestSupportTrees: true,
+    // staticAddonTrees: true,
+    // staticHelpers: true,
+    // staticModifiers: true,
+    // staticComponents: true,
+    // splitAtRoutes: ['route.name'], // can also be a RegExp
+    // packagerOptions: {
+    //    webpackConfig: { }
+    // }
+    // 
+    extraPublicTrees: []
+  });
 };

package.json
{
  \\"name\\": \\"@ember-apply/embroider\\",
  \\"description\\": \\"ember-apply plugin for upgrading a classic build ember app to using embroider\\",
  \\"version\\": \\"0.0.1\\",
  \\"type\\": \\"module\\",
  \\"license\\": \\"MIT\\",
  \\"preset\\": \\"index.js\\",
  \\"author\\": \\"NullVoxPopuli\\",
  \\"repository\\": {
    \\"url\\": \\"https://github.com/NullVoxPopuli/ember-apply\\",
    \\"type\\": \\"https\\",
    \\"directory\\": \\"packages/ember/embroider\\"
  },
  \\"keywords\\": [
    \\"ember\\",
    \\"embroider\\",
    \\"ember-apply\\",
    \\"blueprint\\"
  ],
  \\"exports\\": {
    \\"import\\": \\"./index.js\\"
  },
  \\"files\\": [
    \\"index.js\\"
  ],
  \\"scripts\\": {
    \\"build:types\\": \\"tsc --build\\",
    \\"lint\\": \\"yarn lint:js\\",
    \\"lint:js\\": \\"eslint .\\",
    \\"lint:fix\\": \\"yarn lint:js --fix\\",
    \\"test\\": \\"vitest --coverage --no-watch\\",
    \\"test:watch\\": \\"vitest --watch\\"
  },
  \\"dependencies\\": [
    \\"ember-apply\\"
  ],
  \\"devDependencies\\": [
    \\"@nullvoxpopuli/eslint-configs\\",
    \\"autoprefixer\\",
    \\"babel-eslint\\",
    \\"c8\\",
    \\"eslint\\",
    \\"eslint-plugin-decorator-position\\",
    \\"eslint-plugin-import\\",
    \\"eslint-plugin-node\\",
    \\"eslint-plugin-prettier\\",
    \\"postcss\\",
    \\"prettier\\",
    \\"tailwindcss\\",
    \\"typescript\\",
    \\"vite\\",
    \\"vitest\\"
  ],
  \\"engines\\": [
    \\"node\\"
  ],
  \\"volta\\": [
    \\"node\\",
    \\"yarn\\"
  ]
}
"
`;
