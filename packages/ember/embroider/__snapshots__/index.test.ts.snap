// Vitest Snapshot v1

exports[`embroider > applying to an ember app > works via CLI 1`] = `
" ember-cli-build.js | 19 ++++++++++++++++++-
 package.json       |  5 ++++-
 2 files changed, 22 insertions(+), 2 deletions(-)"
`;

exports[`embroider > applying to an ember app > works via CLI 2`] = `
"diff --git a/ember-cli-build.js b/ember-cli-build.js
index 48e94e9..afcbef6 100644
--- a/ember-cli-build.js
+++ b/ember-cli-build.js
@@ -20,5 +20,22 @@ module.exports = function (defaults) {
   // please specify an object with the list of modules as keys
   // along with the exports of each module as its value.
 
-  return app.toTree();
+  const {
+    Webpack
+  } = require(\\"@embroider/webpack\\");
+
+  return require(\\"@embroider/compat\\").compatBuild(app, Webpack, {
+    // 
+    // staticAddonTestSupportTrees: true,
+    // staticAddonTrees: true,
+    // staticHelpers: true,
+    // staticModifiers: true,
+    // staticComponents: true,
+    // splitAtRoutes: ['route.name'], // can also be a RegExp
+    // packagerOptions: {
+    //    webpackConfig: { }
+    // }
+    // 
+    extraPublicTrees: []
+  });
 };
diff --git a/package.json b/package.json
index 959c39a..472adb9 100644
--- a/package.json
+++ b/package.json
@@ -59,7 +59,10 @@
     \\"prettier\\": \\"^2.5.1\\",
     \\"qunit\\": \\"^2.17.2\\",
     \\"qunit-dom\\": \\"^2.0.0\\",
-    \\"webpack\\": \\"^5.65.0\\"
+    \\"webpack\\": \\"^5.67.0\\",
+    \\"@embroider/core\\": \\"^1.0.0\\",
+    \\"@embroider/compat\\": \\"^1.0.0\\",
+    \\"@embroider/webpack\\": \\"^1.0.0\\"
   },
   \\"engines\\": {
     \\"node\\": \\"12.* || 14.* || >= 16\\""
`;
